(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{83:function(e,t,a){e.exports=a(96)},88:function(e,t,a){},89:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),l=(a(88),a(89),a(15)),i=a(6),s=a(9),m=a(131),u=a(132),d=a(133),g=a(129),E=a(134),b=a(68),p=a.n(b),f=a(69),O=a.n(f),j=a(124);function h(e){var t=e.classes,a=e.handleMenuOpenChange,o=Object(n.useContext)(oe),c=o.users,s=o.setUser;return r.a.createElement("div",null,r.a.createElement(j.a,{className:t.dialogItem},r.a.createElement(l.b,{to:"/create",className:t.dialogItemLink,onClick:a},"create new post")),r.a.createElement(j.a,{className:t.dialogItem},r.a.createElement(l.b,{to:"/blog-app",className:t.dialogItemLink,onClick:function(e){c.forEach((function(e){!0===e.isLogged&&(e.isLogged=!1)})),localStorage.setItem("usersStorage",JSON.stringify(Object(i.a)(c))),s(Object(i.a)(c))}},"Log out")))}var v=a(128),S=a(97),y=a(139),C=function(e){return e?e.reduce((function(e,t){var a=t.id;return a>e?a:e}),0):0};function w(e){var t=e.classes,a=r.a.useState(""),o=Object(s.a)(a,2),c=o[0],l=o[1],m=r.a.useState(""),u=Object(s.a)(m,2),d=u[0],E=u[1],b=Object(n.useContext)(oe),p=b.users,f=b.setUser,O=function(){if(""!==c&&""!==d){var e=p.findIndex((function(e){return c===e.name&&d===e.password}));if(e>-1)p[e].isLogged=!0,localStorage.setItem("usersStorage",JSON.stringify(Object(i.a)(p))),f(Object(i.a)(p));else{var t=C(p)+1,a=[].concat(Object(i.a)(p),[{id:t,name:c,password:d,isLogged:!0}]);localStorage.setItem("usersStorage",JSON.stringify(Object(i.a)(a))),f(Object(i.a)(a))}}},j=function(e){"Enter"===e.key&&O()};return r.a.createElement(v.a,null,r.a.createElement(S.a,null,r.a.createElement(y.a,{label:"Username",variant:"outlined",onChange:function(e){l(e.target.value)},onKeyDown:j,value:c,autoFocus:!0})),r.a.createElement(S.a,null,r.a.createElement(y.a,{label:"Password",type:"password",autoComplete:"current-password",variant:"outlined",onChange:function(e){E(e.target.value)},onKeyDown:j,value:d})),r.a.createElement(S.a,null,r.a.createElement(g.a,{onClick:O,className:t.button,color:"primary","aria-label":"add"},"Log in")))}var N=a(130),k=a(141);function x(e){var t=e.classes,a=e.openMenu,o=e.handleMenuOpenChange,c=(0,Object(n.useContext)(oe).isUserLoged)(),l=c?c.name:null;return r.a.createElement("div",null,r.a.createElement(g.a,{className:t.item,onClick:o},c?r.a.createElement(r.a.Fragment,null," ",r.a.createElement(p.a,{className:t.icon})," ",r.a.createElement("h1",{className:t.item},l)," "):r.a.createElement(r.a.Fragment,null," ",r.a.createElement(O.a,{className:t.icon}),"   ",r.a.createElement("h1",{className:t.item}," Log in ")," ")),r.a.createElement(k.a,{onClose:o,open:a,PaperProps:{className:t.dialog}},r.a.createElement(N.a,{className:t.dialogTitle},c?l:"Login to My Stories"),c?r.a.createElement(h,{classes:t,handleMenuOpenChange:o}):r.a.createElement(w,{classes:t})))}var I=Object(m.a)({root:{flexGrow:1},appBar:{backgroundColor:"#b39ddb"},item:{color:"#f3e5f5",fontSize:"20px",fontFamily:"Sriracha, cursive"},icon:{marginRight:"5px"},link:{textDecoration:"none",color:"#616161"},dialog:{backgroundColor:"#b39ddb"},dialogTitle:{color:"#f3e5f5",fontSize:"20px",textAlign:"center"},dialogItem:{textAlign:"center",fontSize:"20px",color:"#616161"},dialogItemLink:{margin:"0 auto",textDecoration:"none",color:"#616161"},button:{margin:"0 auto"}});function L(e){var t=I(),a=r.a.useState(!1),n=Object(s.a)(a,2),o=n[0],c=n[1];return r.a.createElement("div",{className:t.root},r.a.createElement(u.a,{position:"static",className:t.appBar},r.a.createElement(d.a,null,r.a.createElement(E.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(l.b,{to:"/blog-app",className:t.link},r.a.createElement(g.a,null,r.a.createElement("h1",{className:t.item},"My Stories"))),r.a.createElement("div",null,r.a.createElement(x,{classes:t,openMenu:o,handleMenuOpenChange:function(e){c(!o)}}))))))}var P=a(27),J=a(136),M=a(137),U=a(138),F=a(24),W=a.n(F),D=a(135);function T(e){var t=e.post,a=e.handleEditPost,o=Object(n.useContext)(ce),c=o.posts,l=o.setPost,m=r.a.useState(t.title),u=Object(s.a)(m,2),d=u[0],g=u[1],b=r.a.useState(t.content),p=Object(s.a)(b,2),f=p[0],O=p[1];return r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(E.a,{item:!0,sm:12},r.a.createElement(y.a,{autoFocus:!0,fullWidth:!0,label:"Title",value:d,onChange:function(e){g(e.target.value)}}),r.a.createElement(y.a,{label:"Content",value:f,onChange:function(e){O(e.target.value)},fullWidth:!0,multiline:!0,rows:10,rowsMax:10}),r.a.createElement(E.a,{container:!0,direction:"row-reverse"},r.a.createElement(D.a,{color:"primary",onClick:function(){var e=(new Date).toLocaleString(),n=c.map((function(a){return a.id===t.id&&(a.title=d,a.content=f,a.date=e),a}));localStorage.setItem("postsStorage",JSON.stringify(Object(i.a)(n))),l(Object(i.a)(n)),a()}},r.a.createElement(W.a,null)))))}var A=a(49),z=a.n(A),B=a(50),R=a.n(B),K=Object(m.a)({card:{marginTop:20,backgroundColor:"#edeeff",wordWrap:"break-word",textAlign:"justify"},button:{margin:15}}),G=function(e){var t=e.post,a=Object(n.useContext)(ce),o=a.setSelectedPost,c=a.isUserLoged,m=a.posts,u=a.setPost,d=a.coments,b=a.setComents,p=K(),f=r.a.useState(!1),O=Object(s.a)(f,2),j=O[0],h=O[1],v=c(),S=!!v&&v.id===t.authorId,y=function(){h(!j)};return r.a.createElement(J.a,{className:p.card},r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(E.a,{item:!0,sm:10},r.a.createElement(E.a,{container:!0},j?r.a.createElement(E.a,{item:!0,sm:12},r.a.createElement(T,{post:t,handleEditPost:y})):r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{item:!0,sm:11},r.a.createElement(M.a,{title:t.title,subheader:"author: ".concat(t.authorName)}),r.a.createElement(U.a,null,t.content,r.a.createElement("br",null)," ",r.a.createElement("br",null),t.date)),S?r.a.createElement(E.a,{item:!0,sm:1},r.a.createElement(g.a,{className:p.button,color:"primary",onClick:y},r.a.createElement(z.a,null)),r.a.createElement(l.b,{to:"/blog-app"},r.a.createElement(g.a,{className:p.button,color:"primary",onClick:function(){return function(e,t,a,n,r){var o=t.filter((function(t){return t.id!==e.id})),c=n.filter((function(t){return t.postId!==e.id}));localStorage.setItem("comentsStorage",JSON.stringify(Object(i.a)(c))),localStorage.setItem("postsStorage",JSON.stringify(Object(i.a)(o))),r(Object(i.a)(c)),a(Object(i.a)(o))}(t,m,u,d,b)}},r.a.createElement(R.a,null)))):null,window.location.href.includes("post")?null:r.a.createElement(E.a,{container:!0,justify:"flex-end"},r.a.createElement(g.a,{className:p.button,color:"primary",onClick:function(){o(t)}},r.a.createElement(l.b,{to:"/post"}," Learn more "))))))))};function $(){var e=Object(n.useContext)(ce).posts;return r.a.createElement(E.a,{container:!0,spacing:3,justify:"center"},e.reduceRight((function(e,t){return[].concat(Object(i.a)(e),[r.a.createElement(E.a,{item:!0,sm:7,key:t.id},r.a.createElement(G,{post:t}))])}),[]))}var q=a(70),H=a(42),Q=Object(m.a)((function(e){return{paper:{backgroundColor:"#edeeff"}}}));function V(){var e=Q(),t=Object(n.useContext)(ce),a=t.posts,o=t.setPost,c=(0,t.isUserLoged)(),m=r.a.useState(""),u=Object(s.a)(m,2),d=u[0],g=u[1],b=r.a.useState(""),p=Object(s.a)(b,2),f=p[0],O=p[1];return c?r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(E.a,{item:!0,sm:9},r.a.createElement(q.a,{className:e.paper},r.a.createElement(H.a,{align:"center"},"Tell us your story!"),r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0,sm:9},r.a.createElement(y.a,{autoFocus:!0,fullWidth:!0,label:"Title",value:d,onChange:function(e){g(e.target.value)}}))),r.a.createElement(y.a,{label:"Content",value:f,onChange:function(e){O(e.target.value)},fullWidth:!0,multiline:!0,rows:10,rowsMax:10}),r.a.createElement(E.a,{container:!0,direction:"row-reverse"},r.a.createElement(l.b,{to:"/blog-app"},r.a.createElement(D.a,{color:"primary",onClick:function(){var e=C(a)+1,t=c.id,n=c.name,r=(new Date).toLocaleString(),l=[].concat(Object(i.a)(a),[{id:e,title:d,content:f,authorId:t,authorName:n,date:r}]);localStorage.setItem("postsStorage",JSON.stringify(Object(i.a)(l))),o(Object(i.a)(l))}},r.a.createElement(W.a,null))))))):r.a.createElement(P.a,{to:"/blog-app"})}var X=Object(m.a)((function(e){return{textField:{marginTop:20}}}));function Y(e){var t=e.post,a=X(),o=Object(n.useContext)(ce),c=o.coments,l=o.setComents,m=(0,o.isUserLoged)(),u=r.a.useState(""),d=Object(s.a)(u,2),g=d[0],b=d[1];return r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(E.a,{item:!0,sm:9},r.a.createElement(y.a,{className:a.textField,label:"Coment",value:g,onChange:function(e){b(e.target.value)},fullWidth:!0,multiline:!0,rows:2,rowsMax:4}),r.a.createElement(E.a,{container:!0,direction:"row-reverse"},r.a.createElement(D.a,{color:"primary",onClick:function(){var e=C(c)+1,a=t.id,n=m.id,r=m.name,o=(new Date).toLocaleString(),s=[].concat(Object(i.a)(c),[{id:e,coment:g,postId:a,authorId:n,authorName:r,date:o}]);localStorage.setItem("comentsStorage",JSON.stringify(Object(i.a)(s))),l(Object(i.a)(s)),b("")}},r.a.createElement(W.a,null)))))}function Z(e){var t=e.thisComent,a=e.handleEditComent,o=Object(n.useContext)(ce),c=o.coments,l=o.setComents,m=r.a.useState(t.coment),u=Object(s.a)(m,2),d=u[0],g=u[1];return r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(E.a,{item:!0,sm:12},r.a.createElement(y.a,{label:"Coment",value:d,onChange:function(e){g(e.target.value)},fullWidth:!0,multiline:!0,rows:2,rowsMax:4}),r.a.createElement(E.a,{container:!0,direction:"row-reverse"},r.a.createElement(D.a,{color:"primary",onClick:function(){var e=(new Date).toLocaleString(),n=c.map((function(a){return a.id===t.id&&(a.coment=d,a.date=e),a}));localStorage.setItem("comentsStorage",JSON.stringify(Object(i.a)(n))),l(Object(i.a)(n)),a()}},r.a.createElement(W.a,null)))))}var _=Object(m.a)({card:{marginTop:10,backgroundColor:"#edeeff",wordWrap:"break-word",textAlign:"justify"},cardContent:{paddingTop:0,fontSize:18},button:{margin:15}}),ee=function(e){var t=e.coment,a=_(),o=r.a.useState(!1),c=Object(s.a)(o,2),l=c[0],m=c[1],u=Object(n.useContext)(ce),d=u.isUserLoged,b=u.coments,p=u.setComents,f=d(),O=!!f&&f.id===t.authorId,j=function(){m(!l)};return r.a.createElement(J.a,{className:a.card},r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(E.a,{item:!0,sm:10},r.a.createElement(E.a,{container:!0},l?r.a.createElement(E.a,{item:!0,sm:12},r.a.createElement(Z,{handleEditComent:j,thisComent:t})):r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{item:!0,sm:11},r.a.createElement(M.a,{title:t.authorName,subheader:t.date}),r.a.createElement(U.a,{className:a.cardContent},t.coment)),O?r.a.createElement(E.a,{item:!0,sm:1},r.a.createElement(g.a,{className:a.button,color:"primary",onClick:j},r.a.createElement(z.a,null)),r.a.createElement(g.a,{className:a.button,color:"primary",onClick:function(){return function(e,t,a){var n=t.filter((function(t){return t.id!==e.id}));localStorage.setItem("comentsStorage",JSON.stringify(Object(i.a)(n))),a(Object(i.a)(n))}(t,b,p)}},r.a.createElement(R.a,null))):null)))))},te=Object(m.a)({centered:{margin:"auto"}});function ae(e){var t=e.post,a=Object(n.useContext)(ce).coments,o=te(),c=a.filter((function(e){return e.postId===t.id}));return r.a.createElement("div",{className:o.centered},c.reduceRight((function(e,t){return[].concat(Object(i.a)(e),[r.a.createElement(ee,{key:t.id,coment:t})])}),[]))}var ne=Object(m.a)({centered:{width:"70%",margin:"auto"},link:{textDecoration:"none",margin:"auto"}});function re(){var e=Object(n.useContext)(ce),t=e.selectedPost,a=e.isUserLoged,o=ne(),c=a();return c?r.a.createElement("div",{className:o.centered},r.a.createElement(G,{post:t,loggedUser:c}),r.a.createElement(Y,{post:t}),r.a.createElement(ae,{post:t})):r.a.createElement(k.a,{open:!0,"aria-labelledby":"simple-dialog-title"},r.a.createElement(N.a,{id:"simple-dialog-title"},"Please log in to your account"),r.a.createElement(l.b,{to:"/blog-app",className:o.link},r.a.createElement(g.a,null," ok ")))}var oe=Object(n.createContext)(),ce=Object(n.createContext)();function le(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([]),l=Object(s.a)(c,2),m=l[0],u=l[1],d=Object(n.useState)({}),g=Object(s.a)(d,2),E=g[0],b=g[1],p=Object(n.useState)([]),f=Object(s.a)(p,2),O=f[0],j=f[1],h=function(){return a.find((function(e){return!0===e.isLogged}))};return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("usersStorage")),t=JSON.parse(localStorage.getItem("postsStorage")),a=JSON.parse(localStorage.getItem("comentsStorage"));o(e?Object(i.a)(e):[{id:1,name:"admin",password:"admin",isLogged:!1}]),u(t?Object(i.a)(t):[{id:1,title:"my post",content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n                                    Lorem Ipsum has been the industry's standard dummy text ever since the \n                                    1500s, when an unknown printer took a galley of type and scrambled it \n                                    to make a type specimen book. It has survived not only five centuries,\n                                    but also the leap into electronic typesetting, remaining essentially\n                                    unchanged. It was popularised in the 1960s with the release of Letraset\n                                    sheets containing Lorem Ipsum passages, and more recently with desktop \n                                    publishing software like Aldus PageMaker including versions of Lorem Ipsum.",authorId:1,authorName:"admin",date:"22.02.2020, 01:57:16"}]),j(a?Object(i.a)(a):[{id:1,coment:"my first coment",postId:1,authorId:1,authorName:"admin",date:"22.02.2020, 02:16:44"}])}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.Provider,{value:{users:a,setUser:o,isUserLoged:h}},r.a.createElement(L,null)),r.a.createElement(ce.Provider,{value:{posts:m,setPost:u,coments:O,setComents:j,isUserLoged:h,selectedPost:E,setSelectedPost:b}},r.a.createElement(P.d,null,r.a.createElement(P.b,{exact:!0,path:"/blog-app"},r.a.createElement($,null)),r.a.createElement(P.b,{path:"/create"},r.a.createElement(V,null)),r.a.createElement(P.b,{path:"/post"},r.a.createElement(re,null)))))}var ie=function(){return r.a.createElement(l.a,null,r.a.createElement(le,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[83,1,2]]]);
//# sourceMappingURL=main.8d358cc7.chunk.js.map