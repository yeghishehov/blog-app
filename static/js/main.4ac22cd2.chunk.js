(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{82:function(e,t,a){e.exports=a(95)},87:function(e,t,a){},88:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),l=a.n(o),c=(a(87),a(88),a(16)),i=a(6),s=a(9),m=a(130),u=a(131),d=a(132),g=a(128),p=a(133),b=a(67),E=a.n(b),f=a(68),h=a.n(f),O=a(123);function v(e){var t=e.classes,a=e.handleMenuOpenChange,o=Object(n.useContext)(le),l=o.users,s=o.setUser;return r.a.createElement("div",null,r.a.createElement(O.a,{className:t.dialogItem},r.a.createElement(c.b,{to:"/create",className:t.dialogItemLink,onClick:a},"create new post")),r.a.createElement(O.a,{className:t.dialogItem},r.a.createElement(c.b,{to:"/blog-app",className:t.dialogItemLink,onClick:function(e){l.forEach((function(e){!0===e.isLogged&&(e.isLogged=!1)})),localStorage.setItem("usersStorage",JSON.stringify(Object(i.a)(l))),s(Object(i.a)(l))}},"Log out")))}var j=a(127),C=a(96),S=a(138),y=function(e){return e?e.reduce((function(e,t){var a=t.id;return a>e?a:e}),0):0};function w(e){var t=e.classes,a=r.a.useState(""),o=Object(s.a)(a,2),l=o[0],c=o[1],m=r.a.useState(""),u=Object(s.a)(m,2),d=u[0],p=u[1],b=Object(n.useContext)(le),E=b.users,f=b.setUser,h=function(){if(""!==l&&""!==d){var e=E.findIndex((function(e){return l===e.name&&d===e.password}));if(e>-1)E[e].isLogged=!0,localStorage.setItem("usersStorage",JSON.stringify(Object(i.a)(E))),f(Object(i.a)(E));else{var t=y(E)+1,a=[].concat(Object(i.a)(E),[{id:t,name:l,password:d,isLogged:!0}]);localStorage.setItem("usersStorage",JSON.stringify(Object(i.a)(a))),f(Object(i.a)(a))}}},O=function(e){"Enter"===e.key&&h()};return r.a.createElement(j.a,null,r.a.createElement(C.a,null,r.a.createElement(S.a,{label:"Username",variant:"outlined",onChange:function(e){c(e.target.value)},onKeyDown:O,value:l,autoFocus:!0})),r.a.createElement(C.a,null,r.a.createElement(S.a,{label:"Password",type:"password",autoComplete:"current-password",variant:"outlined",onChange:function(e){p(e.target.value)},onKeyDown:O,value:d})),r.a.createElement(C.a,null,r.a.createElement(g.a,{onClick:h,className:t.button,color:"primary","aria-label":"add"},"Log in")))}var N=a(129),k=a(140);function x(e){var t=e.classes,a=e.openMenu,o=e.handleMenuOpenChange,l=(0,Object(n.useContext)(le).isUserLoged)(),c=l?l.name:null;return r.a.createElement("div",null,r.a.createElement(g.a,{className:t.item,onClick:o},l?r.a.createElement(r.a.Fragment,null," ",r.a.createElement(E.a,{className:t.icon})," ",r.a.createElement("h1",{className:t.item},c)," "):r.a.createElement(r.a.Fragment,null," ",r.a.createElement(h.a,{className:t.icon}),"   ",r.a.createElement("h1",{className:t.item}," Log in ")," ")),r.a.createElement(k.a,{onClose:o,open:a,PaperProps:{className:t.dialog}},r.a.createElement(N.a,{className:t.dialogTitle},l?c:"Login to My Stories"),l?r.a.createElement(v,{classes:t,handleMenuOpenChange:o}):r.a.createElement(w,{classes:t})))}var I=Object(m.a)({root:{flexGrow:1},appBar:{backgroundColor:"#b39ddb"},item:{color:"#f3e5f5",fontSize:"20px",fontFamily:"Sriracha, cursive"},icon:{marginRight:"5px"},link:{textDecoration:"none",color:"#616161"},dialog:{backgroundColor:"#b39ddb"},dialogTitle:{color:"#f3e5f5",fontSize:"20px",textAlign:"center"},dialogItem:{textAlign:"center",fontSize:"20px",color:"#616161"},dialogItemLink:{margin:"0 auto",textDecoration:"none",color:"#616161"},button:{margin:"0 auto"}});function L(e){var t=I(),a=r.a.useState(!1),n=Object(s.a)(a,2),o=n[0],l=n[1];return r.a.createElement("div",{className:t.root},r.a.createElement(u.a,{position:"static",className:t.appBar},r.a.createElement(d.a,null,r.a.createElement(p.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(c.b,{to:"/blog-app",className:t.link},r.a.createElement(g.a,null,r.a.createElement("h1",{className:t.item},"My Stories"))),r.a.createElement("div",null,r.a.createElement(x,{classes:t,openMenu:o,handleMenuOpenChange:function(e){l(!o)}}))))))}var P=a(27),F=a(135),M=a(136),U=a(137),J=a(24),T=a.n(J),W=a(134),D=Object(m.a)((function(e){return{card:{marginTop:10,paddingLeft:"10%",paddingRight:"10%",backgroundColor:"#edeeff",wordWrap:"break-word",textAlign:"justify"}}}));function A(e){var t=e.post,a=e.handleEditPost,o=D(),l=Object(n.useContext)(ce),c=l.posts,m=l.setPost,u=r.a.useState(t.title),d=Object(s.a)(u,2),g=d[0],p=d[1],b=r.a.useState(t.content),E=Object(s.a)(b,2),f=E[0],h=E[1];return r.a.createElement("div",{className:o.card},r.a.createElement(S.a,{autoFocus:!0,fullWidth:!0,label:"Title",value:g,onChange:function(e){p(e.target.value)}}),r.a.createElement(S.a,{label:"Content",value:f,onChange:function(e){h(e.target.value)},fullWidth:!0,multiline:!0,rows:10,rowsMax:10}),r.a.createElement(W.a,{color:"primary",onClick:function(){var e=(new Date).toLocaleString(),n=c.map((function(a){return a.id===t.id&&(a.title=g,a.content=f,a.date=e),a}));localStorage.setItem("postsStorage",JSON.stringify(Object(i.a)(n))),m(Object(i.a)(n)),a()}},r.a.createElement(T.a,null)))}var R=a(49),B=a.n(R),z=Object(m.a)({card:{marginTop:10,paddingLeft:"10%",paddingRight:"10%",backgroundColor:"#edeeff",wordWrap:"break-word",textAlign:"justify"},button:{left:"70%",marginBottom:10}}),K=function(e){var t=e.post,a=Object(n.useContext)(ce),o=a.setSelectedPost,l=a.isUserLoged,i=z(),m=r.a.useState(!1),u=Object(s.a)(m,2),d=u[0],p=u[1],b=l(),E=!!b&&b.id===t.authorId,f=function(){p(!d)};return r.a.createElement(F.a,{className:i.card},d?r.a.createElement(A,{post:t,handleEditPost:f}):r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{title:t.title,subheader:"author: ".concat(t.authorName)}),r.a.createElement(U.a,null,t.content,r.a.createElement("br",null)," ",r.a.createElement("br",null),t.date),window.location.href.includes("post")?E?r.a.createElement(g.a,{className:i.button,color:"primary",onClick:f},r.a.createElement(B.a,null)):null:r.a.createElement(g.a,{className:i.button,color:"primary",onClick:function(){o(t)}},r.a.createElement(c.b,{to:"/post"}," Learn more "))))},G=Object(m.a)({centered:{width:"50%",margin:"auto"}});function $(){var e=Object(n.useContext)(ce).posts,t=G();return r.a.createElement("div",{className:t.centered},e.reduceRight((function(e,t){return[].concat(Object(i.a)(e),[r.a.createElement(K,{key:t.id,post:t})])}),[]))}var q=a(69),H=a(40),Q=Object(m.a)((function(e){return{paper:{backgroundColor:"#edeeff"}}}));function V(){var e=Q(),t=Object(n.useContext)(ce),a=t.posts,o=t.setPost,l=(0,t.isUserLoged)(),m=r.a.useState(""),u=Object(s.a)(m,2),d=u[0],g=u[1],b=r.a.useState(""),E=Object(s.a)(b,2),f=E[0],h=E[1];return l?r.a.createElement(p.a,{container:!0,justify:"center"},r.a.createElement(p.a,{item:!0,sm:9},r.a.createElement(q.a,{className:e.paper},r.a.createElement(H.a,{align:"center"},"Tell us your story!"),r.a.createElement(p.a,{container:!0},r.a.createElement(p.a,{item:!0,sm:9},r.a.createElement(S.a,{autoFocus:!0,fullWidth:!0,label:"Title",value:d,onChange:function(e){g(e.target.value)}}))),r.a.createElement(S.a,{label:"Content",value:f,onChange:function(e){h(e.target.value)},fullWidth:!0,multiline:!0,rows:10,rowsMax:10}),r.a.createElement(p.a,{container:!0,direction:"row-reverse"},r.a.createElement(c.b,{to:"/blog-app"},r.a.createElement(W.a,{color:"primary",onClick:function(){var e=y(a)+1,t=l.id,n=l.name,r=(new Date).toLocaleString(),c=[].concat(Object(i.a)(a),[{id:e,title:d,content:f,authorId:t,authorName:n,date:r}]);localStorage.setItem("postsStorage",JSON.stringify(Object(i.a)(c))),o(Object(i.a)(c))}},r.a.createElement(T.a,null))))))):r.a.createElement(P.a,{to:"/blog-app"})}var X=Object(m.a)((function(e){return{textField:{marginTop:20}}}));function Y(e){var t=e.post,a=X(),o=Object(n.useContext)(ce),l=o.coments,c=o.setComents,m=(0,o.isUserLoged)(),u=r.a.useState(""),d=Object(s.a)(u,2),g=d[0],b=d[1];return r.a.createElement(p.a,{container:!0,justify:"center"},r.a.createElement(p.a,{item:!0,sm:9},r.a.createElement(S.a,{className:a.textField,label:"Coment",value:g,onChange:function(e){b(e.target.value)},fullWidth:!0,multiline:!0,rows:2,rowsMax:4}),r.a.createElement(p.a,{container:!0,direction:"row-reverse"},r.a.createElement(W.a,{color:"primary",onClick:function(){var e=y(l)+1,a=t.id,n=m.id,r=m.name,o=(new Date).toLocaleString(),s=[].concat(Object(i.a)(l),[{id:e,coment:g,postId:a,authorId:n,authorName:r,date:o}]);localStorage.setItem("comentsStorage",JSON.stringify(Object(i.a)(s))),c(Object(i.a)(s)),b("")}},r.a.createElement(T.a,null)))))}var Z=Object(m.a)((function(e){return{textField:{marginTop:20}}}));function _(e){var t=e.thisComent,a=e.handleEditComent,o=Z(),l=Object(n.useContext)(ce),c=l.coments,m=l.setComents,u=r.a.useState(t.coment),d=Object(s.a)(u,2),g=d[0],b=d[1];return r.a.createElement(p.a,{container:!0,justify:"center"},r.a.createElement(p.a,{item:!0,sm:9},r.a.createElement(S.a,{className:o.textField,label:"Coment",value:g,onChange:function(e){b(e.target.value)},fullWidth:!0,multiline:!0,rows:2,rowsMax:4}),r.a.createElement(p.a,{container:!0,direction:"row-reverse"},r.a.createElement(W.a,{color:"primary",onClick:function(){var e=(new Date).toLocaleString(),n=c.map((function(a){return a.id===t.id&&(a.coment=g,a.date=e),a}));localStorage.setItem("comentsStorage",JSON.stringify(Object(i.a)(n))),m(Object(i.a)(n)),a()}},r.a.createElement(T.a,null)))))}var ee=Object(m.a)({card:{marginTop:10,paddingLeft:"10%",paddingRight:"10%",backgroundColor:"#edeeff",wordWrap:"break-word",textAlign:"justify"},cardContent:{paddingTop:0,fontSize:18}}),te=function(e){var t=e.coment,a=ee(),o=r.a.useState(!1),l=Object(s.a)(o,2),c=l[0],i=l[1],m=(0,Object(n.useContext)(ce).isUserLoged)(),u=!!m&&m.id===t.authorId,d=function(){i(!c)};return r.a.createElement(F.a,{className:a.card},c?r.a.createElement(_,{handleEditComent:d,thisComent:t}):r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{title:t.authorName,subheader:t.date}),r.a.createElement(U.a,{className:a.cardContent},t.coment),u?r.a.createElement(g.a,{className:a.button,color:"primary",onClick:d},r.a.createElement(B.a,null)):null))},ae=Object(m.a)({centered:{margin:"auto"}});function ne(e){var t=e.post,a=Object(n.useContext)(ce).coments,o=ae(),l=a.filter((function(e){return e.postId===t.id}));return r.a.createElement("div",{className:o.centered},l.reduceRight((function(e,t){return[].concat(Object(i.a)(e),[r.a.createElement(te,{key:t.id,coment:t})])}),[]))}var re=Object(m.a)({centered:{width:"70%",margin:"auto"},link:{textDecoration:"none",margin:"auto"}});function oe(){var e=Object(n.useContext)(ce),t=e.selectedPost,a=e.isUserLoged,o=re(),l=a();return l?r.a.createElement("div",{className:o.centered},r.a.createElement(K,{post:t,loggedUser:l}),r.a.createElement(Y,{post:t}),r.a.createElement(ne,{post:t})):r.a.createElement(k.a,{open:!0,"aria-labelledby":"simple-dialog-title"},r.a.createElement(N.a,{id:"simple-dialog-title"},"Please log in to your account"),r.a.createElement(c.b,{to:"/blog-app",className:o.link},r.a.createElement(g.a,null," ok ")))}var le=Object(n.createContext)(),ce=Object(n.createContext)();function ie(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([]),c=Object(s.a)(l,2),m=c[0],u=c[1],d=Object(n.useState)({}),g=Object(s.a)(d,2),p=g[0],b=g[1],E=Object(n.useState)([]),f=Object(s.a)(E,2),h=f[0],O=f[1],v=function(){return a.find((function(e){return!0===e.isLogged}))};return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("usersStorage")),t=JSON.parse(localStorage.getItem("postsStorage")),a=JSON.parse(localStorage.getItem("comentsStorage"));o(e?Object(i.a)(e):[{id:1,name:"admin",password:"admin",isLogged:!1}]),u(t?Object(i.a)(t):[{id:1,title:"my post",content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n                                    Lorem Ipsum has been the industry's standard dummy text ever since the \n                                    1500s, when an unknown printer took a galley of type and scrambled it \n                                    to make a type specimen book. It has survived not only five centuries,\n                                    but also the leap into electronic typesetting, remaining essentially\n                                    unchanged. It was popularised in the 1960s with the release of Letraset\n                                    sheets containing Lorem Ipsum passages, and more recently with desktop \n                                    publishing software like Aldus PageMaker including versions of Lorem Ipsum.",authorId:1,authorName:"admin",date:"22.02.2020, 01:57:16"}]),O(a?Object(i.a)(a):[{id:1,coment:"my first coment",postId:1,authorId:1,authorName:"admin",date:"22.02.2020, 02:16:44"}])}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(le.Provider,{value:{users:a,setUser:o,isUserLoged:v}},r.a.createElement(L,null)),r.a.createElement(ce.Provider,{value:{posts:m,setPost:u,coments:h,setComents:O,isUserLoged:v,selectedPost:p,setSelectedPost:b}},r.a.createElement(P.d,null,r.a.createElement(P.b,{exact:!0,path:"/blog-app"},r.a.createElement($,null)),r.a.createElement(P.b,{path:"/create"},r.a.createElement(V,null)),r.a.createElement(P.b,{path:"/post"},r.a.createElement(oe,null)))))}var se=function(){return r.a.createElement(c.a,null,r.a.createElement(ie,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[82,1,2]]]);
//# sourceMappingURL=main.4ac22cd2.chunk.js.map