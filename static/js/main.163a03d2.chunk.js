(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{81:function(e,t,a){e.exports=a(94)},86:function(e,t,a){},87:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),l=(a(86),a(87),a(16)),s=a(7),i=a(12),m=a(129),u=a(130),d=a(131),g=a(127),p=a(132),b=a(66),E=a.n(b),f=a(67),h=a.n(f),v=a(122);function O(e){var t=e.classes,a=e.handleMenuOpenChange,o=Object(n.useContext)(ee),c=o.users,i=o.setUser;return r.a.createElement("div",null,r.a.createElement(v.a,{className:t.dialogItem},r.a.createElement(l.b,{to:"/create",className:t.dialogItemLink,onClick:a},"create new post")),r.a.createElement(v.a,{className:t.dialogItem},r.a.createElement(l.b,{to:"/blog-app",className:t.dialogItemLink,onClick:function(e){c.forEach((function(e){!0===e.isLogged&&(e.isLogged=!1)})),localStorage.setItem("usersStorage",JSON.stringify(Object(s.a)(c))),i(Object(s.a)(c))}},"Log out")))}var j=a(126),S=a(95),y=a(137),w=function(e){return e?e.reduce((function(e,t){var a=t.id;return a>e?a:e}),0):0};function C(e){var t=e.classes,a=r.a.useState(""),o=Object(i.a)(a,2),c=o[0],l=o[1],m=r.a.useState(""),u=Object(i.a)(m,2),d=u[0],p=u[1],b=Object(n.useContext)(ee),E=b.users,f=b.setUser,h=function(){if(""!==c&&""!==d){var e=E.findIndex((function(e){return c===e.name&&d===e.password}));if(e>-1)E[e].isLogged=!0,localStorage.setItem("usersStorage",JSON.stringify(Object(s.a)(E))),f(Object(s.a)(E));else{var t=w(E)+1,a=[].concat(Object(s.a)(E),[{id:t,name:c,password:d,isLogged:!0}]);localStorage.setItem("usersStorage",JSON.stringify(Object(s.a)(a))),f(Object(s.a)(a))}}},v=function(e){"Enter"===e.key&&h()};return r.a.createElement(j.a,null,r.a.createElement(S.a,null,r.a.createElement(y.a,{label:"Username",variant:"outlined",onChange:function(e){l(e.target.value)},onKeyDown:v,value:c,autoFocus:!0})),r.a.createElement(S.a,null,r.a.createElement(y.a,{label:"Password",type:"password",autoComplete:"current-password",variant:"outlined",onChange:function(e){p(e.target.value)},onKeyDown:v,value:d})),r.a.createElement(S.a,null,r.a.createElement(g.a,{onClick:h,className:t.button,color:"primary","aria-label":"add"},"Log in")))}var N=a(128),k=a(139);function x(e){var t=e.classes,a=e.openMenu,o=e.handleMenuOpenChange,c=(0,Object(n.useContext)(ee).isUserLoged)(),l=c?c.name:null;return r.a.createElement("div",null,r.a.createElement(g.a,{className:t.item,onClick:o},c?r.a.createElement(r.a.Fragment,null," ",r.a.createElement(E.a,{className:t.icon})," ",r.a.createElement("h1",{className:t.item},l)," "):r.a.createElement(r.a.Fragment,null," ",r.a.createElement(h.a,{className:t.icon}),"   ",r.a.createElement("h1",{className:t.item}," Log in ")," ")),r.a.createElement(k.a,{onClose:o,open:a,PaperProps:{className:t.dialog}},r.a.createElement(N.a,{className:t.dialogTitle},c?l:"Login to My Stories"),c?r.a.createElement(O,{classes:t,handleMenuOpenChange:o}):r.a.createElement(C,{classes:t})))}var I=Object(m.a)({root:{flexGrow:1},appBar:{backgroundColor:"#b39ddb"},item:{color:"#f3e5f5",fontSize:"20px",fontFamily:"Sriracha, cursive"},icon:{marginRight:"5px"},link:{textDecoration:"none",color:"#616161"},dialog:{backgroundColor:"#b39ddb"},dialogTitle:{color:"#f3e5f5",fontSize:"20px",textAlign:"center"},dialogItem:{textAlign:"center",fontSize:"20px",color:"#616161"},dialogItemLink:{margin:"0 auto",textDecoration:"none",color:"#616161"},button:{margin:"0 auto"}});function L(e){var t=I(),a=r.a.useState(!1),n=Object(i.a)(a,2),o=n[0],c=n[1];return r.a.createElement("div",{className:t.root},r.a.createElement(u.a,{position:"static",className:t.appBar},r.a.createElement(d.a,null,r.a.createElement(p.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(l.b,{to:"/blog-app",className:t.link},r.a.createElement(g.a,null,r.a.createElement("h1",{className:t.item},"My Stories"))),r.a.createElement("div",null,r.a.createElement(x,{classes:t,openMenu:o,handleMenuOpenChange:function(e){c(!o)}}))))))}var P=a(25),M=a(133),J=a(134),U=a(135),F=Object(m.a)({card:{marginTop:10,paddingLeft:"10%",paddingRight:"10%",backgroundColor:"#edeeff",wordWrap:"break-word",textAlign:"justify"},button:{left:"70%",marginBottom:10}}),T=function(e){var t=e.post,a=Object(n.useContext)(te).setSelectedPost,o=F();return r.a.createElement(M.a,{className:o.card},r.a.createElement(J.a,{title:t.title,subheader:"author: ".concat(t.authorName)}),r.a.createElement(U.a,null,t.content,r.a.createElement("br",null)," ",r.a.createElement("br",null),t.date),window.location.href.includes("post")?null:r.a.createElement(g.a,{className:o.button,color:"primary",onClick:function(){a(t)}},r.a.createElement(l.b,{to:"/post"}," Learn more ")))},D=Object(m.a)({centered:{width:"50%",margin:"auto"}});function W(){var e=Object(n.useContext)(te).posts,t=D();return r.a.createElement("div",{className:t.centered},e.reduceRight((function(e,t){return[].concat(Object(s.a)(e),[r.a.createElement(T,{key:t.id,post:t})])}),[]))}var A=a(68),B=a(38),R=a(45),z=a.n(R),K=a(136),G=Object(m.a)((function(e){return{paper:{backgroundColor:"#edeeff"}}}));function $(){var e=G(),t=Object(n.useContext)(te),a=t.posts,o=t.setPost,c=(0,t.isUserLoged)(),m=r.a.useState(""),u=Object(i.a)(m,2),d=u[0],g=u[1],b=r.a.useState(""),E=Object(i.a)(b,2),f=E[0],h=E[1];return c?r.a.createElement(p.a,{container:!0,justify:"center"},r.a.createElement(p.a,{item:!0,sm:9},r.a.createElement(A.a,{className:e.paper},r.a.createElement(B.a,{align:"center"},"Tell us your story!"),r.a.createElement(p.a,{container:!0},r.a.createElement(p.a,{item:!0,sm:9},r.a.createElement(y.a,{autoFocus:!0,fullWidth:!0,label:"Title",value:d,onChange:function(e){g(e.target.value)}}))),r.a.createElement(y.a,{label:"Content",value:f,onChange:function(e){h(e.target.value)},fullWidth:!0,multiline:!0,rows:10,rowsMax:10}),r.a.createElement(p.a,{container:!0,direction:"row-reverse"},r.a.createElement(l.b,{to:"/blog-app"},r.a.createElement(K.a,{color:"primary",onClick:function(){var e=w(a)+1,t=c.id,n=c.name,r=(new Date).toLocaleString(),l=[].concat(Object(s.a)(a),[{id:e,title:d,content:f,authorId:t,authorName:n,date:r}]);localStorage.setItem("postsStorage",JSON.stringify(Object(s.a)(l))),o(Object(s.a)(l))}},r.a.createElement(z.a,null))))))):r.a.createElement(P.a,{to:"/blog-app"})}var q=Object(m.a)((function(e){return{textField:{marginTop:20}}}));function H(e){var t=e.post,a=q(),o=Object(n.useContext)(te),c=o.coments,l=o.setComents,m=(0,o.isUserLoged)(),u=r.a.useState(""),d=Object(i.a)(u,2),g=d[0],b=d[1];return r.a.createElement(p.a,{container:!0,justify:"center"},r.a.createElement(p.a,{item:!0,sm:9},r.a.createElement(y.a,{className:a.textField,label:"Coment",value:g,onChange:function(e){b(e.target.value)},fullWidth:!0,multiline:!0,rows:2,rowsMax:4}),r.a.createElement(p.a,{container:!0,direction:"row-reverse"},r.a.createElement(K.a,{color:"primary",onClick:function(){var e=w(c)+1,a=t.id,n=m.id,r=m.name,o=(new Date).toLocaleString(),i=[].concat(Object(s.a)(c),[{id:e,coment:g,postId:a,authorId:n,authorName:r,date:o}]);localStorage.setItem("comentsStorage",JSON.stringify(Object(s.a)(i))),l(Object(s.a)(i)),b("")}},r.a.createElement(z.a,null)))))}var Q=Object(m.a)({card:{marginTop:10,paddingLeft:"10%",paddingRight:"10%",backgroundColor:"#edeeff",wordWrap:"break-word",textAlign:"justify"},cardContent:{paddingTop:0,fontSize:18}}),V=function(e){var t=e.coment,a=Q();return r.a.createElement(M.a,{className:a.card},r.a.createElement(J.a,{title:t.authorName,subheader:t.date}),r.a.createElement(U.a,{className:a.cardContent},t.coment))},X=Object(m.a)({centered:{margin:"auto"}});function Y(e){var t=e.post,a=Object(n.useContext)(te).coments,o=X(),c=a.filter((function(e){return e.postId===t.id}));return r.a.createElement("div",{className:o.centered},c.reduceRight((function(e,t){return[].concat(Object(s.a)(e),[r.a.createElement(V,{key:t.id,coment:t})])}),[]))}var Z=Object(m.a)({centered:{width:"70%",margin:"auto"},link:{textDecoration:"none",margin:"auto"}});function _(){var e=Object(n.useContext)(te),t=e.selectedPost,a=e.isUserLoged,o=Z();return a()?r.a.createElement("div",{className:o.centered},r.a.createElement(T,{post:t}),r.a.createElement(H,{post:t}),r.a.createElement(Y,{post:t})):r.a.createElement(k.a,{open:!0,"aria-labelledby":"simple-dialog-title"},r.a.createElement(N.a,{id:"simple-dialog-title"},"Please log in to your account"),r.a.createElement(l.b,{to:"/blog-app",className:o.link}," ",r.a.createElement(g.a,null," ok ")," "))}var ee=Object(n.createContext)(),te=Object(n.createContext)();function ae(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([]),l=Object(i.a)(c,2),m=l[0],u=l[1],d=Object(n.useState)({}),g=Object(i.a)(d,2),p=g[0],b=g[1],E=Object(n.useState)([]),f=Object(i.a)(E,2),h=f[0],v=f[1],O=function(){return a.find((function(e){return!0===e.isLogged}))};return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("usersStorage")),t=JSON.parse(localStorage.getItem("postsStorage")),a=JSON.parse(localStorage.getItem("comentsStorage"));o(e?Object(s.a)(e):[{id:1,name:"admin",password:"admin",isLogged:!1}]),u(t?Object(s.a)(t):[{id:1,title:"my post",content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n                                    Lorem Ipsum has been the industry's standard dummy text ever since the \n                                    1500s, when an unknown printer took a galley of type and scrambled it \n                                    to make a type specimen book. It has survived not only five centuries,\n                                    but also the leap into electronic typesetting, remaining essentially\n                                    unchanged. It was popularised in the 1960s with the release of Letraset\n                                    sheets containing Lorem Ipsum passages, and more recently with desktop \n                                    publishing software like Aldus PageMaker including versions of Lorem Ipsum.",authorId:1,authorName:"admin",date:"22.02.2020, 01:57:16"}]),v(a?Object(s.a)(a):[{id:1,coment:"my first coment",postId:1,authorId:1,authorName:"admin",date:"22.02.2020, 02:16:44"}])}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.Provider,{value:{users:a,setUser:o,isUserLoged:O}},r.a.createElement(L,null)),r.a.createElement(te.Provider,{value:{posts:m,setPost:u,coments:h,setComents:v,isUserLoged:O,selectedPost:p,setSelectedPost:b}},r.a.createElement(P.d,null,r.a.createElement(P.b,{exact:!0,path:"/blog-app"},r.a.createElement(W,null)),r.a.createElement(P.b,{path:"/create"},r.a.createElement($,null)),r.a.createElement(P.b,{path:"/post"},r.a.createElement(_,null)))))}var ne=function(){return r.a.createElement(l.a,null,r.a.createElement(ae,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[81,1,2]]]);
//# sourceMappingURL=main.163a03d2.chunk.js.map